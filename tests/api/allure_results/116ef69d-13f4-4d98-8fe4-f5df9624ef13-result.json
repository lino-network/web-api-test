{"name": "test_android_sub_detail", "status": "broken", "statusDetails": {"message": "NameError: name 'response_data' is not defined", "trace": "self = <test_android_homepage.TestAndroidHomePage object at 0x10bb4c430>\nget_config_data = {'chest_info': {'add_lemon': 20, 'chest_donate_user2_pwd': 'Pwd@1234', 'chest_streamer': 'automation', 'chest_streamer...ard_info': {'search_category': 'Art', 'search_tag': 'lol'}, 'donate_value': 1, 'follow_displayName': 'automation', ...}\nget_viewer1_login_auth_header = {'authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImRsaXZlLWRlZ251anRwdHgiLCJkaXNwbGF5bmFtZSI6Im...lkIjoiIiwiZXhwIjoxNzMxNTc4MzUzLCJpYXQiOjE3Mjg4OTk5NTMsImlzcyI6IkRMaXZlIn0.B_N4KQbnJkZxfRgr_ch9cknj-uiWSDmqCBTEVj4IXSg'}\n\n    @allure.title('test_android_sub_detail')\n    @allure.severity(allure.severity_level.NORMAL)\n    def test_android_sub_detail(self, get_config_data, get_viewer1_login_auth_header):\n        \"\"\"\n        接口： SubDetail\n        检查订阅详细信息接口\n        \"\"\"\n        streamer_name = \"automation\"  # 要查询的主播名称\n        payload = Payload.Android.android_SubDetail(streamername=streamer_name)  # 生成 Payload\n    \n        with allure.step(\"请求 SubDetail 接口\"):\n            response_json = common.api_post(\n                get_config_data['url'],\n                get_viewer1_login_auth_header,\n                payload\n            )\n            print(response_json)\n    \n        with allure.step(\"检查接口返回是否没有错误\"):\n            assert 'err' not in response_json\n    \n        with allure.step(\"检查返回的 user 对象\"):\n            user = response_json['data']['user']\n            assert user is not None\n    \n            # 检查 user 的关键字段\n            assert 'avatar' in user and user['avatar'] is not None\n            assert 'androidRecurringSubProductIDs' in user and user['androidRecurringSubProductIDs'] is not None\n            assert 'subSetting' in user and user['subSetting'] is not None\n    \n            sub_setting = user['subSetting']\n            assert 'benefits' in sub_setting and sub_setting['benefits'] is not None\n            assert 'backgroundImage' in sub_setting and sub_setting['backgroundImage'] is not None\n    \n        with allure.step(\"检查返回的 me 对象\"):\n>           me = response_data['data']['me']\nE           NameError: name 'response_data' is not defined\n\ntest_android_homepage.py:659: NameError"}, "description": "\n        接口： SubDetail\n        检查订阅详细信息接口\n        ", "steps": [{"name": "请求 SubDetail 接口", "status": "passed", "start": 1728899973258, "stop": 1728899974951}, {"name": "检查接口返回是否没有错误", "status": "passed", "start": 1728899974952, "stop": 1728899974952}, {"name": "检查返回的 user 对象", "status": "passed", "start": 1728899974952, "stop": 1728899974952}, {"name": "检查返回的 me 对象", "status": "broken", "statusDetails": {"message": "NameError: name 'response_data' is not defined\n", "trace": "  File \"/Users/helen/Downloads/Code/web-api-test/tests/api/test_android_homepage.py\", line 659, in test_android_sub_detail\n    me = response_data['data']['me']\n"}, "start": 1728899974952, "stop": 1728899974952}], "attachments": [{"name": "stdout", "source": "b9aa5530-fb09-46c7-a959-342e0c1e603d-attachment.txt", "type": "text/plain"}], "start": 1728899973257, "stop": 1728899974955, "uuid": "1d85d9ff-086f-4e91-b33a-ceec5d439e79", "historyId": "c364d5e64f0fed9798099e17dd3d58f2", "testCaseId": "c364d5e64f0fed9798099e17dd3d58f2", "fullName": "test_android_homepage.TestAndroidHomePage#test_android_sub_detail", "labels": [{"name": "feature", "value": "test_android_homepage"}, {"name": "severity", "value": "normal"}, {"name": "suite", "value": "test_android_homepage"}, {"name": "subSuite", "value": "TestAndroidHomePage"}, {"name": "host", "value": "MacBook-Pro.local"}, {"name": "thread", "value": "83107-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_android_homepage"}]}