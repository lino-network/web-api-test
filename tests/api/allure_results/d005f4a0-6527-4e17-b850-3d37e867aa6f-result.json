{"name": "test_android_sub_detail", "status": "failed", "statusDetails": {"message": "AssertionError: assert {'__typename': 'Sub', 'lemonSub': False, 'nextBillingAt': None, 'status': 'terminated', ...} is None", "trace": "self = <test_android_homepage.TestAndroidHomePage object at 0x10a1ea9b0>\nget_config_data = {'chest_info': {'add_lemon': 20, 'chest_donate_user2_pwd': 'Pwd@1234', 'chest_streamer': 'automation', 'chest_streamer...ard_info': {'search_category': 'Art', 'search_tag': 'lol'}, 'donate_value': 1, 'follow_displayName': 'automation', ...}\nget_viewer1_login_auth_header = {'authorization': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImRsaXZlLWRlZ251anRwdHgiLCJkaXNwbGF5bmFtZSI6Im...lkIjoiIiwiZXhwIjoxNzMxNTc4MDkzLCJpYXQiOjE3Mjg4OTk2OTMsImlzcyI6IkRMaXZlIn0.nxY7UsxB_DvYJZ6_aIjIAvLjv3oeP4k1dt3RFir4jlw'}\n\n    @allure.title('test_android_sub_detail')\n    @allure.severity(allure.severity_level.NORMAL)\n    def test_android_sub_detail(self, get_config_data, get_viewer1_login_auth_header):\n        \"\"\"\n        接口： SubDetail\n        检查订阅详细信息接口\n        \"\"\"\n        streamer_name = \"automation\"  # 要查询的主播名称\n        payload = Payload.Android.android_SubDetail(streamername=streamer_name)  # 生成 Payload\n    \n        with allure.step(\"请求 SubDetail 接口\"):\n            response_json = common.api_post(\n                get_config_data['url'],\n                get_viewer1_login_auth_header,\n                payload\n            )\n            print(response_json)\n    \n        with allure.step(\"检查接口返回是否没有错误\"):\n            assert 'err' not in response_json\n    \n        with allure.step(\"检查返回的 user 对象\"):\n            user = response_json['data']['user']\n            assert user is not None\n    \n            # 检查 user 的关键字段\n            assert 'avatar' in user and user['avatar'] is not None\n            assert 'androidRecurringSubProductIDs' in user and user['androidRecurringSubProductIDs'] is not None\n            assert 'subSetting' in user and user['subSetting'] is not None\n    \n            sub_setting = user['subSetting']\n            assert 'benefits' in sub_setting and sub_setting['benefits'] is not None\n            assert 'backgroundImage' in sub_setting and sub_setting['backgroundImage'] is not None\n    \n            with allure.step(\"检查 mySubscription 对象\"):\n                my_subscription = user['mySubscription']\n>               assert my_subscription is None  # 确保 mySubscription 应该为 None\nE               AssertionError: assert {'__typename': 'Sub', 'lemonSub': False, 'nextBillingAt': None, 'status': 'terminated', ...} is None\n\ntest_android_homepage.py:660: AssertionError"}, "description": "\n        接口： SubDetail\n        检查订阅详细信息接口\n        ", "steps": [{"name": "请求 SubDetail 接口", "status": "passed", "start": 1728899717671, "stop": 1728899719384}, {"name": "检查接口返回是否没有错误", "status": "passed", "start": 1728899719384, "stop": 1728899719384}, {"name": "检查返回的 user 对象", "status": "failed", "statusDetails": {"message": "AssertionError: assert {'__typename': 'Sub', 'lemonSub': False, 'nextBillingAt': None, 'status': 'terminated', ...} is None\n", "trace": "  File \"/Users/helen/Downloads/Code/web-api-test/tests/api/test_android_homepage.py\", line 660, in test_android_sub_detail\n    assert my_subscription is None  # 确保 mySubscription 应该为 None\n"}, "steps": [{"name": "检查 mySubscription 对象", "status": "failed", "statusDetails": {"message": "AssertionError: assert {'__typename': 'Sub', 'lemonSub': False, 'nextBillingAt': None, 'status': 'terminated', ...} is None\n", "trace": "  File \"/Users/helen/Downloads/Code/web-api-test/tests/api/test_android_homepage.py\", line 660, in test_android_sub_detail\n    assert my_subscription is None  # 确保 mySubscription 应该为 None\n"}, "start": 1728899719384, "stop": 1728899719384}], "start": 1728899719384, "stop": 1728899719384}], "attachments": [{"name": "stdout", "source": "b39246e2-fa8a-434b-a3c3-cc9d873b11b2-attachment.txt", "type": "text/plain"}], "start": 1728899717671, "stop": 1728899719385, "uuid": "42d57503-2632-416c-85e8-d32b775d1a6f", "historyId": "c364d5e64f0fed9798099e17dd3d58f2", "testCaseId": "c364d5e64f0fed9798099e17dd3d58f2", "fullName": "test_android_homepage.TestAndroidHomePage#test_android_sub_detail", "labels": [{"name": "severity", "value": "normal"}, {"name": "feature", "value": "test_android_homepage"}, {"name": "suite", "value": "test_android_homepage"}, {"name": "subSuite", "value": "TestAndroidHomePage"}, {"name": "host", "value": "MacBook-Pro.local"}, {"name": "thread", "value": "82942-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_android_homepage"}]}